<!DOCTYPE html>  
<html>
	
	<head>
		<title>Guess a number</title>
		<script src="https://unpkg.com/@tailwindcss/browser@4"></script>
		<style type="text/tailwindcss"> 
			@theme {
				--color-clifford: #da373d;
			}
		</style>
	</head>
	<body>
		<script>
			function send(){
				var output = document.getElementById('output');
				var history = document.getElementById('history');
				var number = parseFloat(document.getElementById('textbox').value);
				if(isNaN(number)){
					output.textContent = "Syntax error: please enter a float"	
					return;
				}
				var answer = "not availble";
				
				fetch("http://localhost:8080/greeting?number="+number)
					.then(function(response) {
					  return response.json();
					}).then(function(data) {
					  console.log(data);
					  document.getElementById('history').innerHTML 
							= '<p>'+output.textContent+'</p>' + document.getElementById('history').innerHTML;
					  output.textContent = number + " -> "+data["value"];
					}).catch(function(err) {
					  output.textContent = "backend error";
					  console.log('Fetch Error :-S', err);
					});


			}
		</script>
		<div class="text-center">
			<h1 class="mb-4 text-4xl font-extrabold leading-none tracking-tight text-gray-900 md:text-5xl lg:text-6xl dark:text-white"
				>Guess a number Game</h1>
			</p>
			<div class="mb-4 px-100 pt-6 pb-8">
				<input 
					class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" 
					id="textbox" 
					type="text" 
					placeholder="Guess the number">

			<button class="bg-blue-500 m-2 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
				type="button"
				onclick="send();"
				class=""
			>send</button>
			</div>

			<p id="output"></p>
			<div id="history" class="text-slate-400"></div>
		<div>	
	</body>
</html> 
